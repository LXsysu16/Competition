<Page x:ConnectionId='1'
    x:Class="Competition.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Competition"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <!--<Page.Resources>
        <DataTemplate x:Key="MatchMenuItemDataTemplate">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="48"/>
                    <RowDefinition Height="48"/>
                    <RowDefinition Height="48"/>
                    <RowDefinition Height="48"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="48" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Rectangle Fill="{ThemeResource SystemControlBackgroundAccentBrush}" 
                           Visibility="{Binding Match.Selected, Mode=TwoWay}" 
                           HorizontalAlignment="Left" Width="5" Height="48" />

                    <SymbolIcon Symbol="{Binding Match.symbol}"/>

                    <TextBlock Grid.Column="1" 
                           Text="{Binding Match.text}" Foreground="White" 
                           Margin="12,0,0,0" VerticalAlignment="Center" />
                </Grid>
                <Grid Grid.Row="1" Margin="10 0 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="48" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Rectangle Fill="{ThemeResource SystemControlBackgroundAccentBrush}" 
                           Visibility="{Binding Athlete.Selected, Mode=TwoWay}" 
                           HorizontalAlignment="Left" Width="5" Height="48" />

                    <SymbolIcon Symbol="{Binding Athlete.symbol}"/>

                    <TextBlock Grid.Column="1" 
                           Text="{Binding Athlete.text}" Foreground="White" 
                           Margin="12,0,0,0" VerticalAlignment="Center" />
                </Grid>
                <Grid Grid.Row="2" Margin="10 0 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="48" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Rectangle Fill="{ThemeResource SystemControlBackgroundAccentBrush}" 
                           Visibility="{Binding Battle.Selected, Mode=TwoWay}" 
                           HorizontalAlignment="Left" Width="5" Height="48" />

                    <SymbolIcon Symbol="{Binding Battle.symbol}"/>

                    <TextBlock Grid.Column="1" 
                           Text="{Binding Battle.text}" Foreground="White" 
                           Margin="12,0,0,0" VerticalAlignment="Center" />
                </Grid>
                <Grid Grid.Row="3" Margin="10 0 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="48" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Rectangle Fill="{ThemeResource SystemControlBackgroundAccentBrush}" 
                           Visibility="{Binding Battle.Selected, Mode=TwoWay}" 
                           HorizontalAlignment="Left" Width="5" Height="48" />

                    <SymbolIcon Symbol="{Binding Battle.symbol}"/>

                    <TextBlock Grid.Column="1" 
                           Text="{Binding Battle.text}" Foreground="White" 
                           Margin="12,0,0,0" VerticalAlignment="Center" />
                </Grid>
            </Grid>
        </DataTemplate>
    </Page.Resources>-->

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <RelativePanel Grid.Row="0" Style="{StaticResource TopBar}">
                <!-- Menu -->
                <AppBarButton x:ConnectionId='8' Icon="GlobalNavigationButton"
                                           
                        Width="48"
                        RelativePanel.AlignLeftWithPanel="true"
                        RelativePanel.AlignVerticalCenterWithPanel="True"
                        Background="Transparent"
                        Foreground="White"
                        Margin="-2 0 0 -5">
                </AppBarButton>
                <TextBlock Text="赛事系统" Style="{StaticResource Header}" RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignVerticalCenterWithPanel="True"/>
                <AppBarButton x:ConnectionId='9' x:Name="LogInLogOut" Width="48" Icon="Contact" RelativePanel.AlignVerticalCenterWithPanel="True" RelativePanel.AlignRightWithPanel="True" Foreground="White">
                    <AppBarButton.Flyout>
                        <Flyout>
                            <StackPanel>
                                <!--登陆-->
                                <Button x:ConnectionId='10' x:Name="Login_Button" Content="登陆" Width="120">
                                    <Button.Flyout>
                                        <Flyout x:ConnectionId='12' x:Name="Login_Flyout" Placement="4">
                                            <StackPanel>
                                                <TextBox x:ConnectionId='13' x:Name="UserName" PlaceholderText="请输入用户名" AllowFocusOnInteraction="True"/>
                                                <PasswordBox x:ConnectionId='14' x:Name="Password" PlaceholderText="请输入密码" AllowFocusOnInteraction="True"/>
                                                <Button x:ConnectionId='15' x:Name="Login" Content="登陆"                       AllowFocusOnInteraction="True"/>
                                                <!--暂时没有注册功能-->
                                                <Button x:ConnectionId='16' x:Name="Regist" Content="注册"/>
                                            </StackPanel>
                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                                <!--退出-->
                                <Button x:ConnectionId='11' x:Name="Exit_Button" Content="退出" Width="120"                     />
                            </StackPanel>
                        </Flyout>
                    </AppBarButton.Flyout>
                </AppBarButton>
            </RelativePanel>
            <SplitView x:ConnectionId='2' Grid.Row="1" Name="menuView" DisplayMode="CompactOverlay"  CompactPaneLength="48" OpenPaneLength="170">
                <SplitView.Pane>
                    <ScrollViewer>
                        <Grid Style="{StaticResource LeftBar}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <StackPanel Grid.Row="0">

                                <!-- 一级菜单 -->
                                <ListView x:ConnectionId='4' x:Name="NavMenuPrimaryListView" 
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                                                                                
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"
                                                                              />
                                
                                <!-- 二级菜单 -->
                                <ListView x:ConnectionId='5' x:Name="NavMenuMatchListView" 
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                                                                              
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"
                                                                               x:FieldModifier="Public"/>
                                
                                <!-- 三级菜单 -->
                                <ListView x:ConnectionId='6' Name="NavMenuMatchInfoListView"
                                         Margin="10 0 0 0"
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                                                                                  
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"    
                                                                                 x:FieldModifier="Public"/>

                                <!-- Tennis三级菜单
                                <ListView x:Name="TennisInfoListView" 
                                         Margin="20 0 0 0"
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                         ItemsSource="{x:Bind navMenuItemVM.TennisInfoItem}"
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"
                                         ItemClick="ListView_TennisInfoItemClick"/>

                                     Badminton二级菜单
                                <ListView x:Name="NavMenuSecondaryBadmintonListView" 
                                         Margin="10 0 0 0"
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                         ItemsSource="{x:Bind navMenuItemVM.NavMenuSecondaryBadmintonItem}"
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"    
                                         ItemClick="ListView_SecondaryItemClick" x:FieldModifier="Public" />
                                
                                     Badminton三级菜单
                                <ListView x:Name="BadmintonInfoListView" 
                                         Margin="20 0 0 0"
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}"
                                         ItemsSource="{x:Bind navMenuItemVM.BadmintonInfoItem}"
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"
                                         ItemClick="ListView_BadmintonInfoItemClick"/>

                                     PingPang二级菜单 
                                <ListView x:Name="NavMenuSecondaryPingPangListView" 
                                         Margin="10 0 0 0"
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                         ItemsSource="{x:Bind navMenuItemVM.NavMenuSecondaryPingPangItem}"
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"    
                                         ItemClick="ListView_SecondaryItemClick" x:FieldModifier="Public" />

                                    PingPang三级菜单 
                                <ListView x:Name="PingPangInfoListView" 
                                         Margin="20 0 0 0"
                                         Visibility="Collapsed"
                                         SelectionMode="None" IsItemClickEnabled="True" 
                                         ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                         ItemsSource="{x:Bind navMenuItemVM.PingPangInfoItem}"
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"
                                         ItemClick="ListView_PingPangInfoItemClick"/>

                                 <ListView x:Name="TryForMenuItem"
                                         Margin="10 0 0 0"
                                         Visibility="Visible"
                                         IsItemClickEnabled="True"
                                         ItemTemplate="{StaticResource MatchMenuItemDataTemplate}"
                                         ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}"
                                         ItemsSource="{x:Bind navMatchMenuItemVM.AllItems}"
                                         ItemClick="TryForMenuItem_ItemClick"/>-->
                            </StackPanel>

                            <!--底部菜单-->
                            <ListView x:ConnectionId='3' x:Name="NavMenuBottomListView" 
                                     Grid.Row="1"
                                     SelectionMode="None" IsItemClickEnabled="True" 
                                     ItemTemplate="{StaticResource MenuItemDataTemplate}" 
                                                                                           
                                     ItemContainerStyle="{StaticResource NavMenuItemContainerStyle}" 
                                     BorderBrush="{ThemeResource SystemControlBackgroundAccentBrush}" BorderThickness="0,1,0,0" 
                                                                          />
                        </Grid>
                    </ScrollViewer>
                </SplitView.Pane>
                <Border>
                    <ScrollViewer>
                        <Frame x:ConnectionId='7' Name="ContentFrame" x:FieldModifier="Public"/>
                    </ScrollViewer>
                </Border>
            </SplitView>
        </Grid>
    </Grid>
</Page>

